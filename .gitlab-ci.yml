stages:
  - module-pipelines

backend:
  stage: module-pipelines
  trigger:
    include:
      - local: backend/.gitlab-ci.yml
    strategy: depend
  rules:
    - changes:
        - backend/**/*
  environment:
    name: backend
    url: https://std-025-84.praktikum-services.tech

frontend:
  stage: module-pipelines
  trigger:
    include:
      - local: frontend/.gitlab-ci.yml
    strategy: depend
  rules:
    - changes:
        - frontend/**/*
  environment:
    name: frontend
    url: https://std-025-84.praktikum-services.tech